SimpleLoader Implementation:

We wrote a C code to implement a simple ELF loader that loads and executes an ELF executable. We wrote a loader_cleanup function that frees allocated memory for the elf and program headers and closes the file descriptor if open and further makes changes to the file descriptor, setting it to one, preventing accidental reuse. Then, we wrote the load_and_run_elf function that opens the specified ELF file, allocates memory for ELF header and program headers, and then reads the read ELF and program headers into memory allocated, all while checking for potential errors in the process, in which case, the program displays an error message, cleans the loader exits. It then iterates through the program headers to find the PT_Load segments. For each PT_Load segment, maps the memory with read, write and execute permissions. It then seeks to the PT_Load segment of the file, reads the data into the virtual memory and adjusts the permissions for memory protection, all while checking for errors, in which case again, it displays an error message, cleans up the loader and then exits. Finally, the code jumps to the entry point of the ELF file and casts it to a function pointer and calls it. The main function handles argument parsing, calls the loader which loads and runs the ELF file and ensures proper cleanup using the cleanup function before exiting. There are comments throughout the code for better understanding.

Contributions:

We worked on the project together. We first discussed the problem given to us and worked out a solution. Then we divided the work and helped each other write the code. We were both part of the project and equally contributed to the assignment given to us.
